<project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.neo4j</groupId>
  <artifactId>neoclipse</artifactId>
  <packaging>bundle</packaging>
  <version>1.0</version>
  <name>Neoclipse Eclipse Plugin</name>
  <dependencies>
	<dependency>
	      <groupId>org.eclipse.pde</groupId>
	      <artifactId>core</artifactId>
	      <version>[3.3.0,4.0.0)</version>
	</dependency>
	<dependency>
	      <groupId>org.apache.maven.shared</groupId>
	      <artifactId>maven-osgi</artifactId>
	      <version>[0.1.9,)</version>
	</dependency>
    <dependency>
      <groupId>org.apache.felix</groupId>
      <artifactId>org.osgi.core</artifactId>
      <version>1.0.0</version>
    </dependency>
    <dependency>
         <groupId>org.neo4j</groupId>
         <artifactId>neo</artifactId>
         <version>1.0-b7</version>
      </dependency>
    <dependency>
         <groupId>org.neo4j</groupId>
         <artifactId>shell</artifactId>
         <version>1.0-b7</version>
      </dependency>
      <dependency>
         <groupId>org.eclipse.zest</groupId>
         <artifactId>core</artifactId>
         <version>1.0.0</version>
         <scope>provided</scope>
      </dependency>
      <dependency>
         <groupId>org.eclipse.zest</groupId>
         <artifactId>layouts</artifactId>
         <version>1.0.0</version>
         <scope>provided</scope>
      </dependency>
      <dependency>
         <groupId>org.eclipse.ui</groupId>
         <artifactId>views</artifactId>
         <version>3.3.0</version>
         <scope>provided</scope>
      </dependency>
      <dependency>
         <groupId>org.eclipse</groupId>
         <artifactId>gef</artifactId>
         <version>3.4.0</version>
         <scope>provided</scope>
      </dependency>
      <dependency>
         <groupId>junit</groupId>
         <artifactId>junit</artifactId>
         <version>4.3.1</version>
         <scope>test</scope>
      </dependency>
  </dependencies>
  <build>
    <resources>
      <resource>
        <directory>${basedir}</directory>
        <includes>
          <include>plugin.xml</include>
        </includes>
      </resource>
    </resources>
    
    <plugins>
 	  <plugin>
		        <groupId>org.codehaus.mojo</groupId>
		        <artifactId>pde-maven-plugin</artifactId>
		        <version>1.0-alpha-1</version>
		        <extensions>true</extensions>
		        <configuration>
		          <eclipseInstall>/Applications/eclipse3.4RC1</eclipseInstall>
		          <pdeProductFilename>neoclipse.product</pdeProductFilename>
		          <pdeBuildVersion>3.4.0.v20080514</pdeBuildVersion>
		        </configuration>
				<executions>
				          <execution>
				            <id>build-pde</id>
				            <phase>compile</phase>
				            <goals>
				              <goal>attach</goal>
				            </goals>
				          </execution>
				          <!-- Also bind to mvn clean -->
				          <execution>
				            <id>clean-pde</id>
				            <phase>clean</phase>
				            <goals>
				              <goal>clean</goal>
				            </goals>
				          </execution>          
				        </executions>
		      </plugin>
      <plugin>
        <groupId>org.apache.felix</groupId>
        <artifactId>maven-bundle-plugin</artifactId>
        <version>1.4.3</version>
        <extensions>true</extensions>
        <configuration>
          <instructions>
            <Embed-Dependency>neo|shell|jta;scope=compile|runtime;inline=false</Embed-Dependency>
            <Embed-Transitive>true</Embed-Transitive>
            <Import-Package>!sun.*,*</Import-Package>
            <Include-Resource>icons=icons, plugin.xml</Include-Resource>
            <Bundle-ActivationPolicy>lazy</Bundle-ActivationPolicy>
            <Bundle-Activator>org.neo4j.neoclipse.Activator</Bundle-Activator>
            <Bundle-Vendor>Neo4j</Bundle-Vendor>
            <Bundle-RequiredExecutionEnvironment>J2SE-1.5</Bundle-RequiredExecutionEnvironment>
            <Export-Package>!*</Export-Package>
            <Private-Package>org.neo4j.neoclipse.*</Private-Package>
            <Bundle-SymbolicName>${project.groupId}.${project.artifactId}.maven;singleton:=true</Bundle-SymbolicName>
          </instructions>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.5</source>
          <target>1.5</target>
        </configuration>
        
      </plugin>
      <plugin>
        <groupId>org.ops4j</groupId>
        <artifactId>maven-pax-plugin</artifactId>
        <version>1.2</version>
      </plugin>
    </plugins>
  </build>
  <repositories>
      <repository>
         <id>neo4j-public-repository</id>
         <url>http://m2.neo4j.org</url>
      </repository>	 
      <repository>
	         <id>m2-snapshots</id>
	         <url>http://snapshots.repository.codehaus.org</url>
			<snapshots>
	           <enabled>true</enabled>
	        </snapshots>
	
	      </repository>
   </repositories>
   <profiles>
    <profile>
        <id>org.eclipse.swt.win32</id>
        <activation>
            <os>
                <name>windows xp</name>
                <arch>x86</arch>
            </os>
        </activation>
        <dependencies>
            <dependency>
                <groupId>org.eclipse.swt.win32.win32</groupId>
                <artifactId>x86</artifactId>
                <version>3.4.0</version>
            </dependency>
        </dependencies>
    </profile>
    <profile>
        <id>org.eclipse.swt.macosx</id>
        <activation>
            <os>
                <name>mac os x</name>
                <arch>i386</arch>
            </os>
        </activation>
        <dependencies>
          <dependency>
            <groupId>org.eclipse.swt.carbon</groupId>
            <artifactId>macosx</artifactId>
            <version>3.4.0</version>
          </dependency>
        </dependencies>
    </profile>
    <profile>
        <id>org.eclipse.swt.linux</id>
        <activation>
            <os>
                <name>linux</name>
                <arch>i386</arch>
            </os>
        </activation>
        <dependencies>
            <dependency>
                <groupId>org.eclipse.swt.gtk.linux</groupId>
                <artifactId>x86</artifactId>
                <version>3.4.0</version>
                <type>jar</type>
            </dependency>
        </dependencies>
    </profile>
   </profiles>
   
</project>
